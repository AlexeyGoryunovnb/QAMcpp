# QAMcpp
в данной программе есть три важных класса QAMModulator, Chanal и QAMDemodulator.


1) QAMModulator
В этом класе происходит посторение сигнала и по сигналу построение сигнального созвездия.

QAMModulator modulator(p, T, N, I)
при инициализации элемента этого класса мы задаём:
p - определяет вид модуляции (0 - QPSK, 1 - QAM16, 2 - QAM64, 3-QAM256).
T - длительность сигнала во времени.
N - частота дискретизации.
I - число полупериодов сигнала (QAM работает коректно только если сигнал состоит из целого числа полупериодов либо если число полупериодов очень большое. В данной реализации мы считаем что сигнал может иметь только целое число полупериодов.).

void modulate(symbol, signal, time)
эта функция создаёт сигнал s_i(t). Сигналы кодируются с помощью кода Грея для уменьшения вероятности ошибки бита.
symbol - номер сигнала i который отправляется источнику на вход модулятора.
signal - после работы этой функции в этой переменной будет хранится сигнал s_i(t).
time - после работы этой функции в этой переменной будет хранится время t для последующего постоения созвездия.

void calculate_constellation(signal, time, x, y)
эта функция вычисляет координаты сигнального созвездия по средством скалярного произвидения с базисными функциями.
signal - сигнал s_i(t).
time - время t.
x и y - координаты сигнальной точки


2) Chanal
В этом класе происходит моделирование канала по средством добавления шума.

void add_noise(x, y, gamma)
добавляет шум при коэфициэнте сигнал-шум = gamma
x и y - координаты сигнальной точки
gamma - коэфициэнт сигнал-шум. gamma = Е/N_0. Где Е - энергия сигнала, N_0 - энергия шума.


4) QAMDemodulator
В этом класе происходит вычисление номера сигнала.

QAMDemodulator demodulator(p)
при инициализации элемента этого класса мы задаём:
p - определяет вид модуляции (0 - QPSK, 1 - QAM16, 2 - QAM64, 3-QAM256).

int demodulate(x, y)
на основе полученных координат вычисляет номер сигнала.
x и y - координаты сигнальной точки


Програма проходит по указанным значениям коэфициэнта сигнал-шум и проводит указанное число тестов.
В каждом тесте происходит модуляция, передача по каналу и демодуляция.
Затем считается сколько бит были искажены. 
После прохождения всех тестов число искажённых битов делится на число битов на символ и на число тестов.
Все эти значения записываются в файл qam_result.dat.
Pатем создаётся gnuplot скрипт plot_script.
Если запустить этот скрипт то появится png файл SNRPError в котором будет находится график зависимости вероятности ошибки бита от коэфициэнта сигнал-шум.



